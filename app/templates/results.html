
{% extends 'index.html' %}
{% block content %}
            



<!-- <meta charset="UTF-8">
<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/main.css') }}"> -->
<title>{{symbol}}</title>


<div class="overview" id='symbol-info' padding-top='16px'>
  <ul class = 'symbol-properties'>
    <li class="symbol-info"><a class='symbols-i-info'>{{symbol}}</a></li>
    <li class="symbol-info"><a class='symbols-i-info'>{{last}}</a></li>
    <li class="symbol-info"><a class='symbols-i-info'>Last Trend: {{last_trend}}</a></li>
    <li class="symbol-info"><a class='symbols-i-info'>Expected Risk: {{std}}</a></li>
  </ul>
</div>



  <!-- <p font-color="white">{{datajson}} </p>
  <p font-color="white">{{linesXmin}} </p>
  <p font-color="white">{{linesXmax}} </p> -->




  <div class='chart-container' width="200px" height="200px"></div>>
    <canvas id="myChart" ></canvas>
  </div> 

  <!-- <div class='chart-container2' width="200px" height="200px"></div>>
    <canvas id="myChart2" ></canvas>
  </div>  -->



  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
      var obj = JSON.parse('{{datajson | tojson | safe}}');
      var dates = obj.Date;
      var prices = obj.Close;

      var objUp = JSON.parse('{{linesXmin | tojson | safe}}');
    var objDown = JSON.parse('{{linesXmax | tojson | safe}}');
    var downTrend = objDown.Close;
    var UpTrend = objUp.Close;

    
    
    var s1 = {
      label: 's1',
      borderColor: 'red',
      data: [
        { x: objDown.Date[1], y: objDown.Close[1] },
        { x: objDown.Date[0], y: objDown.Close[0] },
      ]
    };

    var s2 = {
      label: 's2',
      borderColor: 'green',
      data: [
        { x: objUp.Date[1], y: objUp.Close[1] },
        { x: objUp.Date[0], y: objUp.Close[0] },
      ]
    };
    
      const data = {
        labels: dates,
          datasets: [{
            // labels: dates,
            label:'Coin Price',
            
            data: prices,
            backgroundColor: 'white',
            },s1,s2
          ],
        };
  
      var config = {
        type: 'line',
        data: data,
        };

      const myChart = new Chart(
        document.getElementById('myChart'),
        config
      );


 
    
  </script> 
  







{% endblock %}





<!-- 










 Auto reload page on window resize -->
<!-- <script> 
window.addEventListener('resize', function () { 
    // "use strict";
    window.location.reload('/results'); 
});
</script> -->
